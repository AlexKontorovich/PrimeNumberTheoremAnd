
\begin{definition}\label{divRemovable_zero}\lean{divRemovable_zero}\leanok
    Given a complex function $f$, we define the function
    $$g(z):=\begin{cases}
    \frac{f(z)}{z}, & z\neq 0;\\
    f'(0), & z=0.
    \end{cases}$$
\end{definition}


\begin{lemma}\label{divRemovable_zero_of_ne_zero}\lean{divRemovable_zero_of_ne_zero}\leanok
    Let $f$ be a complex function and let $z\neq 0$. Then, with $g$ defined as in Definition~\ref{divRemovable_zero},
    $$g(z)=\frac{f(z)}{z}.$$
\end{lemma}


\begin{proof}\leanok
    This follows directly from the definition of $g$.
\end{proof}


\begin{lemma}\label{AnalyticOn_divRemovable_zero}\lean{AnalyticOn_divRemovable_zero}\leanok
    Let $f$ be a complex function analytic on an open set $s$ containing $0$ such that $f(0)=0$.
    Then, with $g$ defined as in Definition~\ref{divRemovable_zero}, $g$ is analytic on $s$.
\end{lemma}


\begin{proof}\uses{divRemovable_zero}
\leanok
    We need to show that $g$ is complex differentiable at every point in $s$.
    For $z\neq 0$, this follows directly from the definition of $g$ and the fact that $f$ is analytic on $s$.
    For $z=0$, we use the definition of the derivative and the fact that $f(0)=0$:
    \[
    \lim_{z\to 0}\frac{g(z)-g(0)}{z-0}=\lim_{z\to 0}\frac{\frac{f(z)}{z}-f'(0)}{z}=\lim_{z\to 0}\frac{f(z)-f'(0)z}{z^2}=\lim_{z\to 0}\frac{f(z)-f(0)-f'(0)(z-0)}{(z-0)^2}=0,
    \]
    where the last equality follows from the definition of the derivative of $f$ at $0$.
    Thus, $g$ is complex differentiable at $0$ with derivative $0$, completing the proof.
\end{proof}


\begin{lemma}\label{AnalyticOn_divRemovable_zero_closedBall}
  \lean{AnalyticOn_divRemovable_zero_closedBall}\leanok
    Let $f$ be a complex function analytic on the closed ball $|z|\leq R$ such that $f(0)=0$.
    Then, with $g$ defined as in Definition~\ref{divRemovable_zero}, $g$ is analytic on
    $|z|\leq R$.
\end{lemma}


\begin{proof}
\uses{AnalyticOn_divRemovable_zero}
\leanok
    The proof is similar to that of Lemma~\ref{AnalyticOn_divRemovable_zero}, but we need to consider two cases:
    when $x$ is on the boundary of the closed ball and when it is in the interior.
    In the first case, we take a small open ball around $x$ that lies entirely within the closed ball,
    and apply Lemma~\ref{AnalyticOn_divRemovable_zero} on this smaller ball.
    In the second case, we can take the entire open ball centered at $0$ with radius $R$,
    and again apply Lemma~\ref{AnalyticOn_divRemovable_zero}.
    In both cases, we use the fact that $f(0)=0$ to ensure that the removable singularity at $0$ is handled correctly.
\end{proof}


\begin{definition}\label{schwartzQuotient}\lean{schwartzQuotient}
\uses{divRemovable_zero}
\leanok
    Given a complex function $f$ and a real number $M$, we define the function
    $$f_{M}(z):=\frac{g(z)}{2M - f(z)},$$
    where $g$ is defined as in Definition~\ref{divRemovable_zero}.
\end{definition}


\begin{lemma}\label{AnalyticOn.schwartzQuotient}\lean{AnalyticOn.schwartzQuotient}\leanok
    Let $M>0$. Let $f$ be analytic on the closed ball $|z|\leq R$ such that $f(0)=0$
    and suppose that $2M - f(z)\neq 0$ for all $|z|\leq R$.
    Then, with $f_{M}$ defined as in Definition~\ref{schwartzQuotient}, $f_{M}$ is analytic on
    $|z|\leq R$.
\end{lemma}


\begin{proof}\uses{schwartzQuotient, AnalyticOn_divRemovable_zero_closedBall}\leanok
    This follows directly from Lemma~\ref{AnalyticOn_divRemovable_zero_closedBall} and the fact that the difference of two analytic functions is analytic.
\end{proof}


\begin{lemma}\label{Complex.norm_le_norm_two_mul_sub_of_re_le}\lean{Complex.norm_le_norm_two_mul_sub_of_re_le}\leanok
    Let $M>0$ and let $x$ be a complex number such that $\Re x\leq M$.
    Then, $|x|\leq|2M - x|$.
\end{lemma}


\begin{proof}\leanok
    We square both sides and simplify to obtain the equivalent inequality
    $$0\leq 4M^2 -4M\Re x,$$
    which follows directly from the assumption $\Re x\leq M$ and the positivity of $M$.
\end{proof}


\begin{theorem}[BorelCaratheodory]\label{BorelCaratheodory}\lean{BorelCaratheodory}
    Let $R,\,M>0$. Let $f$ be analytic on $|z|\leq R$ such that $f(0)=0$ and suppose
    $\Re f(z)\leq M$ for all $|z|\leq R$. Then for any $0 < r < R$,
    $$\sup_{|z|\leq r}|f(z)|\leq\frac{2Mr}{R-r}.$$
\end{theorem}

